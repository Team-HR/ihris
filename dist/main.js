!function(t){var e={};function a(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1)}([function(t,e,a){var i=a(3),n=a(4);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var s={insert:"head",singleton:!1};i(n,s);t.exports=n.locals||{}},function(t,e,a){a(6)},function(t,e,a){"use strict";var i=a(0);a.n(i).a},function(t,e,a){"use strict";var i,n=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},s=function(){var t={};return function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(t){a=null}t[e]=a}return t[e]}}(),r=[];function o(t){for(var e=-1,a=0;a<r.length;a++)if(r[a].identifier===t){e=a;break}return e}function h(t,e){for(var a={},i=[],n=0;n<t.length;n++){var s=t[n],h=e.base?s[0]+e.base:s[0],c=a[h]||0,d="".concat(h," ").concat(c);a[h]=c+1;var l=o(d),u={css:s[1],media:s[2],sourceMap:s[3]};-1!==l?(r[l].references++,r[l].updater(u)):r.push({identifier:d,updater:v(u,e),references:1}),i.push(d)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var n=a.nc;n&&(i.nonce=n)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var r=s(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var d,l=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function u(t,e,a,i){var n=a?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=l(e,n);else{var s=document.createTextNode(n),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(s,r[e]):t.appendChild(s)}}function g(t,e,a){var i=a.css,n=a.media,s=a.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),s&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var m=null,f=0;function v(t,e){var a,i,n;if(e.singleton){var s=f++;a=m||(m=c(e)),i=u.bind(null,a,s,!1),n=u.bind(null,a,s,!0)}else a=c(e),i=g.bind(null,a,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(a)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=n());var a=h(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<a.length;i++){var n=o(a[i]);r[n].references--}for(var s=h(t,e),c=0;c<a.length;c++){var d=o(a[c]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}a=s}}}},function(t,e,a){(e=a(5)(!1)).push([t.i,"\n.cursorPointer{\n    cursor: pointer;\n}\n.cursorGrab{\n    cursor: grab;\n    cursor: -webkit-grab;\n    cursor: -moz-grab;\n}\n.cursorGrabbing{\n    cursor: grabbing;\n    cursor: -webkit-grabbing;\n    cursor: -moz-grabbing;\n}\n",""]),t.exports=e},function(t,e,a){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var a=function(t,e){var a=t[1]||"",i=t[3];if(!i)return a;if(e&&"function"==typeof btoa){var n=(r=i,o=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),h="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(h," */")),s=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[a].concat(s).concat([n]).join("\n")}var r,o,h;return[a].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(a,"}"):a})).join("")},e.i=function(t,a,i){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(i)for(var s=0;s<this.length;s++){var r=this[s][0];null!=r&&(n[r]=!0)}for(var o=0;o<t.length;o++){var h=[].concat(t[o]);i&&n[h[0]]||(a&&(h[2]?h[2]="".concat(a," and ").concat(h[2]):h[2]=a),e.push(h))}},e}},function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("canvas",{ref:"avatarEditorCanvas",staticClass:"cursorPointer",attrs:{width:t.canvasWidth,height:t.canvasHeight,id:"avatarEditorCanvas"},on:{dragover:function(t){t.preventDefault()},drop:t.onDrop,mousedown:t.onDragStart,touchstart:t.onDragStart,click:t.clicked}}),t._v(" "),a("input",{ref:"input",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.fileSelected}})])};i._withStripped=!0;var n={props:{image:{type:String,default:""},border:{type:Number,default:25},borderRadius:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},color:{type:Array,default:()=>[0,0,0,.5]},scale:{type:Number,default:1},rotation:{type:Number,default:0}},data:()=>({cursor:"cursorPointer",canvas:null,context:null,dragged:!1,imageLoaded:!1,changed:!1,state:{drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}}}),computed:{canvasWidth(){return this.getDimensions().canvas.width},canvasHeight(){return this.getDimensions().canvas.height},rotationRadian(){return this.rotation*Math.PI/180}},mounted(){let t=this;if(this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),this.paint(),this.image)this.loadImage(this.image);else{var e=this.svgToImage('<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 65"><defs><style>.cls-1{fill:#000;}</style></defs><title>Upload_Upload</title><path class="cls-1" d="M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z"/><polygon class="cls-1" points="41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2"/><polygon class="cls-1" points="40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35"/></svg>');e.onload=function(){var a=t.canvasWidth/2-this.width/2,i=t.canvasHeight/2-this.height/2;t.context.drawImage(e,a,i,this.width,this.height)}}},methods:{drawRoundedRect(t,e,a,i,n,s){if(0===s)t.rect(e,a,i,n);else{const r=i-s,o=n-s;t.translate(e,a),t.arc(s,s,s,Math.PI,1.5*Math.PI),t.lineTo(r,0),t.arc(r,s,s,1.5*Math.PI,2*Math.PI),t.lineTo(i,o),t.arc(r,o,s,2*Math.PI,.5*Math.PI),t.lineTo(s,n),t.arc(s,o,s,.5*Math.PI,Math.PI),t.translate(-e,-a)}},svgToImage(t){let e=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),a=(self.URL||self.webkitURL||self).createObjectURL(e),i=new Image;return i.src=a,i},setState(t){var e=Math.ceil(1),a=Math.floor(1e4);this.state=t,this.state.cnt="HELLO"+Math.floor(Math.random()*(a-e))+e},paint(){this.context.save(),this.context.translate(0,0),this.context.fillStyle="rgba("+this.color.slice(0,4).join(",")+")";let t=this.borderRadius;const e=this.getDimensions(),a=e.border,i=e.canvas.height,n=e.canvas.width;t=Math.max(t,0),t=Math.min(t,n/2-a,i/2-a),this.context.beginPath(),this.drawRoundedRect(this.context,a,a,n-2*a,i-2*a,t),this.context.rect(n,0,-n,i),this.context.fill("evenodd"),this.context.restore()},getDimensions(){return{width:this.width,height:this.height,border:this.border,canvas:{width:this.width+2*this.border,height:this.height+2*this.border}}},onDrop(t){if((t=t||window.event).stopPropagation(),t.preventDefault(),t.dataTransfer&&t.dataTransfer.files.length){const e=new FileReader,a=t.dataTransfer.files[0];this.changed=!0,e.onload=t=>this.loadImage(t.target.result),e.readAsDataURL(a)}},onDragStart(t){(t=t||window.event).preventDefault(),this.state.drag=!0,this.state.mx=null,this.state.my=null,this.cursor="cursorGrabbing";let e=document,a=!1,i=s=>{this.onDragEnd(s),!a&&s.targetTouches&&t.target.click(),e.removeEventListener("mouseup",i),e.removeEventListener("mousemove",n),e.removeEventListener("touchend",i),e.removeEventListener("touchmove",n)},n=t=>{a=!0,this.onMouseMove(t)};e.addEventListener("mouseup",i),e.addEventListener("mousemove",n),e.addEventListener("touchend",i),e.addEventListener("touchmove",n)},onDragEnd(t){this.state.drag&&(this.state.drag=!1,this.cursor="cursorPointer")},onMouseMove(t){if(t=t||window.event,!1===this.state.drag)return;this.dragged=!0,this.changed=!0;let e=this.state.image;const a=e.x,i=e.y,n=t.targetTouches?t.targetTouches[0].pageX:t.clientX,s=t.targetTouches?t.targetTouches[0].pageY:t.clientY,r={mx:n,my:s,image:e};if(this.state.mx&&this.state.my){const t=(this.state.mx-n)/this.scale,r=(this.state.my-s)/this.scale;e.y=this.getBoundedY(i-r,this.scale),e.x=this.getBoundedX(a-t,this.scale)}this.state.mx=r.mx,this.state.my=r.my,this.state.image=e},replaceImageInBounds(){let t=this.state.image;t.y=this.getBoundedY(t.y,this.scale),t.x=this.getBoundedX(t.x,this.scale)},loadImage(t){let e=new Image,a=this;e.onload=()=>{let t=a.getInitialSize(e.width,e.height);a.state.image.x=0,a.state.image.y=0,a.state.image.resource=e,a.state.image.width=t.width,a.state.image.height=t.height,a.state.drag=!1,a.$emit("vue-avatar-editor:image-ready",a.scale),a.imageLoaded=!0,this.$emit("imageLoaded",a.imageLoaded),a.cursor="cursorGrab"},e.onerror=t=>console.log("error loading image: ",t),this.isDataURL(t)||(e.crossOrigin="anonymous"),e.src=t},getInitialSize(t,e){let a,i;const n=this.getDimensions();return n.height/n.width>e/t?(a=this.getDimensions().height,i=t*(a/e)):(i=this.getDimensions().width,a=e*(i/t)),{height:a,width:i}},isDataURL:t=>null!==t&&!!t.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+=[a-z\-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@\/?%\s]*\s*$/i),getBoundedX(t,e){var a=this.state.image,i=this.getDimensions();let n=Math.abs(a.width*Math.cos(this.rotationRadian))+Math.abs(a.height*Math.sin(this.rotationRadian)),s=Math.floor((n-i.width/e)/2);return s=Math.max(0,s),Math.max(-s,Math.min(t,s))},getBoundedY(t,e){var a=this.state.image,i=this.getDimensions();let n=Math.abs(a.width*Math.sin(this.rotationRadian))+Math.abs(a.height*Math.cos(this.rotationRadian)),s=Math.floor((n-i.height/e)/2);return s=Math.max(0,s),Math.max(-s,Math.min(t,s))},paintImage(t,e,a){if(e.resource){var i=this.calculatePosition(e,a);t.save(),t.globalCompositeOperation="destination-over";let n=this.getDimensions();t.translate(n.canvas.width/2,n.canvas.height/2),t.rotate(this.rotationRadian),t.translate(-n.canvas.width/2,-n.canvas.height/2),t.drawImage(e.resource,i.x,i.y,i.width,i.height),t.restore()}},transformDataWithRotation(t,e){let a=-this.rotationRadian;return[t*Math.cos(a)-e*Math.sin(a),t*Math.sin(a)+e*Math.cos(a)]},calculatePosition(t,e){t=t||this.state.image;var a=this.getDimensions();let i=t.width*this.scale,n=t.height*this.scale;var s=(i-a.width)/2,r=(n-a.height)/2,o=t.x*this.scale,h=t.y*this.scale;return[o,h]=this.transformDataWithRotation(o,h),{x:o+=e-s,y:h+=e-r,height:n,width:i}},redraw(){this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint(),this.paintImage(this.context,this.state.image,this.border)},getImage(){const t=this.getCroppingRect(),e=this.state.image;t.x*=e.resource.width,t.y*=e.resource.height,t.width*=e.resource.width,t.height*=e.resource.height;const a=document.createElement("canvas");return a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(e.resource,-t.x,-t.y),a},getImageScaled(){const{width:t,height:e}=this.getDimensions(),a=document.createElement("canvas");return a.width=t,a.height=e,this.paintImage(a.getContext("2d"),this.state.image,0),a},imageChanged(){return this.changed},getCroppingRect(){const t=this.getDimensions(),e=t.border,a=t.border,i=t.width,n=t.height,s=this.calculatePosition(this.state.image,t.border);return{x:(e-s.x)/s.width,y:(a-s.y)/s.height,width:i/s.width,height:n/s.height}},clicked(t){!0===this.dragged?this.dragged=!1:this.$refs.input.click()},fileSelected(t){var e=t.target.files||t.dataTransfer.files;if(this.$emit("select-file",e),e.length){var a=new FileReader;this.changed=!0,a.onload=t=>this.loadImage(t.target.result),a.readAsDataURL(e[0])}},resetImage(){let t=this;this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),t.imageLoaded=!1,this.$emit("imageLoaded",t.imageLoaded),t.state={drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}},this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint();var e=this.svgToImage('<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 65"><defs><style>.cls-1{fill:#000;}</style></defs><title>Upload_Upload</title><path class="cls-1" d="M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z"/><polygon class="cls-1" points="41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2"/><polygon class="cls-1" points="40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35"/></svg>');e.onload=function(){var a=t.canvasWidth/2-this.width/2,i=t.canvasHeight/2-this.height/2;t.context.drawImage(e,a,i,this.width,this.height)}}},watch:{state:{handler(t,e){this.imageLoaded&&this.redraw()},deep:!0},scale(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},rotation(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},borderRadius(){this.redraw()}}};a(2);function s(t,e,a,i,n,s,r,o){var h,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=a,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),r?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=h):n&&(h=o?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),h)if(c.functional){c._injectStyles=h;var d=c.render;c.render=function(t,e){return h.call(e),d(t,e)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,h):[h]}return{exports:t,options:c}}var r=s(n,i,[],!1,null,null,null);r.options.__file="node_modules/vue-avatar-editor-improved/src/components/VueAvatar.vue";var o=r.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vue-avatar",{ref:"vueavatar",attrs:{width:t.width,height:t.height,rotation:t.rotation,borderRadius:t.borderRadius,border:t.border,color:t.color,scale:t.scale},on:{"vue-avatar-editor:image-ready":t.onImageReady,"select-file":function(e){return t.onSelectFile(e)}}}),t._v(" "),a("br"),t._v(" "),t.hasScale?a("label",[t._v("\n    Zoom : "+t._s(t.scale)+"x\n    "),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.scale,expression:"scale"}],attrs:{type:"range",min:"1",max:"3",step:"0.02"},domProps:{value:t.scale},on:{__r:function(e){t.scale=e.target.value}}})]):t._e(),t._v(" "),a("br"),t._v(" "),t.hasRotation?a("label",[t._v("\n    Rotation : "+t._s(t.rotation)+"°\n    "),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.rotation,expression:"rotation"}],attrs:{type:"range",min:"0",max:"360",step:"1"},domProps:{value:t.rotation},on:{__r:function(e){t.rotation=e.target.value}}})]):t._e(),t._v(" "),a("br"),t._v(" "),a("button",{on:{click:t.finished}},[t._v(t._s(t.finishText))])],1)};h._withStripped=!0;var c=s({props:{finishText:{type:String,default:"Save"},hasRotation:{type:Boolean,default:!0},hasScale:{type:Boolean,default:!0},image:{type:String,default:""},border:{type:Number,default:25},borderRadius:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},color:{type:Array,default:()=>[0,0,0,.5]}},data:()=>({rotation:0,scale:1}),components:{VueAvatar:o},methods:{onSelectFile(t){this.$emit("select-file",t)},onImageReady(){this.scale=1,this.rotation=0},finished(){return this.$emit("finished",this.$refs.vueavatar.getImageScaled())}}},h,[],!1,null,null,null);c.options.__file="node_modules/vue-avatar-editor-improved/src/components/VueAvatarEditor.vue";c.exports;new Vue({el:"#app",components:{VueAvatar:o},data:()=>({rotation:0,scale:1,id:"",last_name:"",first_name:"",middle_name:"",ext_name:"",address:"",gender:"",date_of_birth:"",place_of_birth:"",contact_no:"",validity:"July 01 - December 30, 2020",noSelectedImage:!0,imgUrl:""}),methods:{saveClicked(){var t=this.$refs.vueavatar.getImageScaled();this.imgUrl=t.toDataURL("image/jpeg",1),this.$refs.image.src=this.imgUrl},onImageReady(){this.scale=1,this.rotation=0,this.noSelectedImage=!1},onSave(){var t={id:this.id,last_name:this.last_name,first_name:this.first_name,middle_name:this.middle_name,ext_name:this.ext_name,address:this.address,gender:this.gender,date_of_birth:this.date_of_birth,place_of_birth:this.place_of_birth,contact_no:this.contact_no,validity:this.validity};$.ajax({type:"post",url:"takay_id.ajax.php",data:{getImage:!0,imgBase64:this.imgUrl,infos:t},dataType:"json",success:function(t){console.log(t)}})}},mounted(){$(".ui .checkbox").checkbox()}})}]);